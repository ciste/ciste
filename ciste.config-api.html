<html>
  <head>
    <title>ciste.config - Ciste API documentation</title>
    <link href="static/favicon.png" rel="icon" />
    <link href="static/favicon.png" rel="shortcut icon" />
    <link media="all" type="text/css" href="static/clojure.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/wiki.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/internal.css" rel="stylesheet" />
    <style>.menuWrapper{height: 36px;}</style>
    <!--[if lte IE 6]>
    <link rel="stylesheet" href="http://www.wikispaces.com/_/2009051601/s/internal_ie.css" type="text/css" />
    <![endif]-->
  </head>
<!--
This document was auto-generated from the source by the clojure autodoc system.
To report errors or ask questions about the overall documentation structure, formatting,
etc., contact Tom Faulhaber (google mail name: tomfaulhaber).
For errors in the documentation of a particular namespace, contact the author of that
namespace.
-->
  <body>
    <div id="AllContentContainer">
      <div id="Header">
	<a id="Logo" href="index.html"><img alt="Clojure" height="100" width="100" src="static/clojure-icon.gif" /></a>
	<h1><a title="page header title" id="page-header" href="index.html">Ciste</a></h1>
      </div>
      <div id="leftcolumn"><div style="text-align: center;"></div>
<div class="menu">
  <div class="WikiCustomNav WikiElement wiki">
    <span class="toc-header"><span id="project-name">Ciste</span> <span id="version"></span> API</span><br />
    <ul>
      <li><a class="wiki_link" href="index.html">Overview</a></li>
      <li><a class="wiki_link" href="api-index.html">API Index</a></li>
    </ul>
    <div class="NamespaceTOC">
      <span class="toc-header">Namespaces</span>
      <ul id="left-sidebar-list">
        <li><a href="ciste.commands-api.html" class="wiki_link">ciste.commands</a></li><li><a href="ciste.config-api.html" class="wiki_link">ciste.config</a></li><li><a href="ciste.core-api.html" class="wiki_link">ciste.core</a></li><li><a href="ciste.debug-api.html" class="wiki_link">ciste.debug</a></li><li><a href="ciste.filters-api.html" class="wiki_link">ciste.filters</a></li><li><a href="ciste.formats-api.html" class="wiki_link">ciste.formats</a></li><li><a href="ciste.middleware-api.html" class="wiki_link">ciste.middleware</a></li><li><a href="ciste.predicates-api.html" class="wiki_link">ciste.predicates</a></li><li><a href="ciste.routes-api.html" class="wiki_link">ciste.routes</a></li><li><a href="ciste.runner-api.html" class="wiki_link">ciste.runner</a></li><li><a href="ciste.sections-api.html" class="wiki_link">ciste.sections</a></li><li><a href="ciste.triggers-api.html" class="wiki_link">ciste.triggers</a></li><li><a href="ciste.views-api.html" class="wiki_link">ciste.views</a></li><li><a href="ciste.workers-api.html" class="wiki_link">ciste.workers</a></li>
      </ul>
    </div>
    
    <a href="http://clojure.org" class="wiki_link">Clojure Home</a>
  </div>
</div>
</div>
      <div id="rightcolumn">
	<div id="Content">
	  <div class="contentBox"><div class="innerContentBox">
              <div id="content_view" class="wiki wikiPage">
                <div id="right-sidebar"><div id="toc">
  <h1 class="nopad">Table of Contents</h1>
  <div style="margin-left: 1em;" class="toc-section">
    <a href="#toc0">Overview</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#ciste.config/*doc-maps*">*doc-maps*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#ciste.config/*environment*">*environment*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#ciste.config/*environments*">*environments*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#ciste.config/config">config</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#ciste.config/config*">config*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#ciste.config/definitializer">definitializer</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#ciste.config/describe-config">describe-config</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#ciste.config/doc">doc</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#ciste.config/environment">environment</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#ciste.config/get-host-address">get-host-address</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#ciste.config/get-host-name">get-host-name</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#ciste.config/load-config">load-config</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#ciste.config/merge-config">merge-config</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#ciste.config/run-initializers!">run-initializers!</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#ciste.config/set-config!">set-config!</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#ciste.config/set-environment!">set-environment!</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#ciste.config/with-environment">with-environment</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#ciste.config/write-config!">write-config!</a>
    </div>
    <br />
  </div>
</div>
</div>
                <div id="content-tag"><h1 id="overview">API for <span id="namespace-name">ciste.config</span>
  - <span id="header-project">Ciste</span> <span id="header-version"></span>
  </h1>
<span id="author-line">by <span id="author-name">Daniel E. Renfer &lt;duck@kronkltd.net&gt;</span><br /></span>
<br />Full namespace name: <span id="long-name">ciste.config</span>
<p></p>
<h2>Overview</h2>
<pre id="namespace-docstr">Ciste uses the config function in ciste.config to perform all the
configuration. Config takes a variable number of key values and will
either return a non-nil value if that option is defined, or will raise
an exception if it is not.

The config information is read from the file "config.clj" at the base
of the project's directory. The config file should contain a hash-map.

The top-level keys will be the names of environments. The values of
these keys will be an arbitrarily complex structure of hashes,
vectors, and other data.

Example:

    (use 'ciste.config)
    (load-config)
    (set-environment! :default)
    (config :option1) =&gt; "foo"
    (config :option3) =&gt; ["foo" "bar" "baz"]
    (config :option2 :title) =&gt; "BAR"</pre>


<br />
<h2>Public Variables and Functions</h2>
<div id="var-entry">
  <br />
  <hr />
  <h2 id="ciste.config/*doc-maps*">*doc-maps*</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">This is where config docs are kept</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="ciste.config/*environment*">*environment*</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">The current environment. use the set-environment!,
environment, and with</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="ciste.config/*environments*">*environments*</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">The full config map for all environments is stored
in this ref</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="ciste.config/config">config</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (config &amp; ks)
</pre>
  <pre id="var-docstr">Returns the option matching the key sequence in the global config map for the
currently bound environment, defaulting to the :default environment.

Throws an exception if the option can not be found</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="ciste.config/config*">config*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (config*)
       (config* &amp; ks)
</pre>
  <pre id="var-docstr">Like config, but does not throw an exception if the key cannot be found.</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="ciste.config/definitializer">definitializer</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (definitializer &amp; body)
</pre>
  <pre id="var-docstr">Defines an initializer. When an environment is bound, the initializers will
be run in the order that they are loaded.

Initializers are blocks of code that need to set up the environment of
the namespace, but cannot run until the configuration system is
available with a valid environment.

Whenever the environment is changed, the initializers will run in the
order they were declared.

Note: At this time, Initializers will be re-run if the namespace is
reloaded. For this reason, it is recommended that initializers be able
to handle being run multiple times gracfully.

Example:

    (ns ciste.example
      (:use [ciste.config :only (definitializer)]))

    (definitializer
      (println "This will be run when the environment is set")
      (println (config :hostname)))

    (println "out of the initializer"


    &gt; (use 'ciste.example)
    out of the initializer
    &gt; (set-environment! :development)
    This will be run when the environment is set
    server1.example.com</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="ciste.config/describe-config">describe-config</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (describe-config ks type docstring &amp; body)
</pre>
  <pre id="var-docstr">Macro to record config information

Example:

    (describe-config [:print :request]
      :boolean
      "Should the request be logged?")</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="ciste.config/doc">doc</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (doc &amp; ks)
</pre>
  <pre id="var-docstr">Print out the documentation for the config path</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="ciste.config/environment">environment</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (environment)
</pre>
  <pre id="var-docstr">Returns the currently bound environment.

Throws an exception if no environment is bound</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="ciste.config/get-host-address">get-host-address</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (get-host-address)
</pre>
  <pre id="var-docstr">Returns the IP address of the host's local adapter</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="ciste.config/get-host-name">get-host-name</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (get-host-name)
</pre>
  <pre id="var-docstr">Returns the hostname of the host's local adapter.</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="ciste.config/load-config">load-config</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (load-config)
       (load-config filename)
</pre>
  <pre id="var-docstr">Loads the config file into the environment.

Defaults to config.clj if not specified</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="ciste.config/merge-config">merge-config</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (merge-config m1 m2)
</pre>
  <pre id="var-docstr">Recursively merges m1 into m2. If the value of any of the key is a map, the
elements in that map are also merged</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="ciste.config/run-initializers!">run-initializers!</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (run-initializers!)
</pre>
  <pre id="var-docstr">Run all initializers</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="ciste.config/set-config!">set-config!</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (set-config! ks value)
</pre>
  <pre id="var-docstr">Set the value of the config setting matching the key sequence</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="ciste.config/set-environment!">set-environment!</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (set-environment! env)
</pre>
  <pre id="var-docstr">Sets's the environment globally</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="ciste.config/with-environment">with-environment</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-environment environment &amp; body)
</pre>
  <pre id="var-docstr">Run body with the evironment bound</pre>
  
  
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="ciste.config/write-config!">write-config!</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (write-config!)
       (write-config! filename)
</pre>
  <pre id="var-docstr">Write the current config settings to file</pre>
  
  
  
</div>


</div>
              </div>
            </div>
          </div>
	</div>
	<div id="foot">
	  <div style="text-align: center;" id="copyright">2012 KRONK Ltd.</div>
	</div>
      </div>
      <div id="DesignedBy">Logo &amp; site design by <a title="Visit Tom Hickey's website." href="http://www.tomhickey.com">Tom Hickey</a>.<br />
      Clojure auto-documentation system by Tom Faulhaber.</div>
    </div>
    <!-- /AllContentContainer -->
  </body>

</html>